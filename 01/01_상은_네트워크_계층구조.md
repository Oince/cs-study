# TCP/IP 4계층/5계층, OSI 7계층 모델

---

<img width="2048" height="805" alt="image" src="https://github.com/user-attachments/assets/68dbb323-f1b5-4fa9-a999-22c5396a9816" />

- OSI 7계층: 네트워크 통신을 표준화 한 모델, 통신 시스템을 7단계로 나누어 사용
    - 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층 간 상호 작동하는 방식을 정해 둔 것
    - TCP/IP 5계층의 `응용 계층`을 Application(L7; 응용 계층), Presentation(L6; 표현 계층), Session(L5; 세션 계층)으로 나누면 된다.
        - 참고
            <img width="1543" height="1145" alt="image" src="https://github.com/user-attachments/assets/9cff8ac7-a1ea-4aa3-89a5-dae04143987f" />
- TCP/IP 4계층: 실무적으로 사용하기에 OSI 7계층은 너무 복잡하기에 단순화
- TCP/IP 5계층 (TCP/IP Updated 모델): 일반적으로 해당 모델이 사용됨

# 계층 별 정리

---

## L5; 응용 계층

> `사용자 접근` `데이터 표준화` `세션 연결` `포트`
> 
- 사용자들이 직접 접근하여 사용하는 계층
- 데이터 송신을 위한 메시지를 만든다
- 다양한 프로토콜이 존재
    - HTTP(80)
        - 웹 서비스에서 클라이언트와 웹 서버 간 정보를 주고받기 위해 사용되는 네트워크 프로토콜
    - FTP(20, 21)
        - 파일 전송하는 데 사용되는 표준 프로토콜
        - 21번 포트(제어 포트): 클라이언트에서 서버의 응답 및 명령을 위한 연결 시 사용, 전체 FTP 세션 동안 계속 연결 상태를 유지
        - 20번 포트(데이터 포트): 파일이 전송될 때 생성되는 데이터 연결을 위해 사용. 20번 포트가 이미 사용 중이면 1024번 이후 포트 사용.
            - 파일 전송을 시작할 때 연결하고 완료되면 폐쇄
    - SSH (22)
        - 원격 접속하는 데 사용되는 프로토콜
    - SMTP (25)
        - 전자 메일 전송을 위한 인터넷 표준 통신 프로토콜
    - DNS (53)
        - 호스트의 도메인 이름을 호스트의 네트워크 주소로 바꾸거나 그 반대의 변환을 수행할 수 있도록 하기 위해 사용하는 프로토콜

## L4; 전송 계층

> `연결지향` `신뢰성` `다중화` `오류제어` `흐름제어` `순서제어`
> 
> 
> `3-way handshake` `4-way handshake`
> 
> 다중화/역다중화 → host-to-host 서비스에서 process-to-process 서비스로 확장하는 것
> 
- TCP(Transmission Control Protocol)
    - 높은 신뢰성
    - 연결지향
    - 순서 보장
    - 가상회선 패킷 교환 방식
    
    ⇒ 연속성 < ***신뢰성***
    
- UDP(User Datagram Protocol)
    - 낮은 신뢰성(그렇다고 없진않음)
    - 비연결형
    - 순서 미보장
    - 데이터그램 패킷 교환 방식
    
    ⇒ 신뢰성 < ***연속성***
    

👉 추가 내용은 여기에서!

[TCP/UDP](https://fortunate-tiger-b01.notion.site/TCP-UDP-19297c15da08808e9501ff7bc87558fb?source=copy_link) 

## L3; 네트워크 계층

> `IP` `라우팅`
> 
- IP
    - 송수신 간 패킷 단위
    - 네트워크에서 정보를 주고받는 데 사용하는 프로토콜
    - IPv4, IPv6가 있음
- 라우팅 프로토콜
    - RIP: 최소 Hop Count를 파악하여 라우팅 (거리 + 방향 다이나믹 라우팅 프로토콜)
    - OSPF: 최단 경로 우선 프로토콜
    - BGP: 외부 라우팅 프로토콜, 관리 도메인과 관리 도메인 간 사용되는 라우팅 프로토콜
        - 경로벡터 방식
    - 등…
- ARP (Address Resolution Protocol)
    - IP 주소를 물리적 주소(MAC 주소)로 변경
- ICMP (Internet Control Message Protocol)
    - 오류 정보 전송 목적
    - 네트워크 진단 및 오류 보고 (ping, traceroute)

## L2; 데이터 링크 계층

> `MAC` `Framing` `오류제어` `흐름제어` `순서제어`
> 
- 노드 간 신뢰성 있는 전송 담당 (프레임 단위)
- MAC 주소 부여, 프레임 헤더·트레일러 추가
- 물리 계층에서 전달받은 비트 데이터를 데이터, 헤더, 트레일러에 넣어 캡슐화 (프레이밍)
- 흐름 제어: 링크 단위 속도 조절

| 구분 | 표준 | 통신 방식 | 충돌 제어 | 장비/매체 |
| --- | --- | --- | --- | --- |
| 유선 LAN | IEEE 802.3 | 전이중 | CSMA/CD | UTP/STP, 광섬유 케이블 |
| 무선 LAN | IEEE 802.11 | 반이중 | CSMA/CA | 주파수: 2.4GHz/5GHz |
- 부가 설명
    - 유선 LAN
        - 전이중화 통신 (Full-duplex)
            - 양쪽 장치가 동시에 송수신 할 수 있는 방식
            - 송신로와 수신로로 나누어져 데이터를 주고받음
        - CSMA/CD (충돌 감지)
            - 유선 네트워크에서 충돌을 감지하고 재전송하는 방식
            - 채널이 사용하고 있는지 확인 후 사용하고 있지 않으면 전송
    - 무선 LAN
        - 반이중화 통신 (Half-duplex)
            - 양쪽 장치는 서로 통신할 수 있지만, 동시에 통신할 수 없음
            - 한 번에 한 방향만 통신할 수 있는 방식
        - CSMA/CA (충돌 회피)
            - 사전에 충돌을 방지할 수 있도록 일련의 확인 과정을 거쳐 전송
            - 매체가 비어있음을 확인 후 임의 시간 기다리고 전송

### 이더넷 프레임

<img width="1137" height="684" alt="image" src="https://github.com/user-attachments/assets/eed4980f-cc36-4cdd-be61-c2e8f82ef56f" />
현재는 대부분 DIX 2.0 이더넷 프레임 (이더넷 2)를 쓴다더라~

## L1; 물리 계층

> `물리적 연결` `0과1` `전기신호`
> 
- 케이블 등을 통해 물리적으로 데이터 전송 (전기 신호)

# 참고자료

https://yjkim97.tistory.com/35
https://yjkim97.tistory.com/36
[https://velog.io/@gndan4/네트워크-응용-계층](https://velog.io/@gndan4/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%9D%91%EC%9A%A9-%EA%B3%84%EC%B8%B5)
https://studyhard-everyday.tistory.com/68
http://www.ktword.co.kr/test/view/view.php?m_temp1=2965
