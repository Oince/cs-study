# 네트워크

> 노드와 링크가 서로 연결되어 있으며, 리소스를 공유하는 집합
> 
- 노드: 서버, 라우터, 스위치 등의 네트워크 장치
- 링크: 유선 또는 무선

## 좋은 네트워크란?

- 많은 처리량을 처리할 수 있음 (= 많은 트래픽을 감당할 수 있음)
- 지연 시간이 짧음
- 장애 빈도 적음
- 좋은 보안

⇒ 사용자가 원활하고 마음 편히 서비스를 즐길 수 있도록 하는 것

# 처리량과 지연 시간

> `네트워크 성능` `처리량` `지연 시간`
> 

처리량과 지연 시간은 컴퓨터 네트워크의 성능을 측정하는 두 가지 지표

## 처리량 (Throughput)

> 링크 내에서 성공적으로 전달된 데이터의 양
> 
> 
> 얼만큼의 트래픽을 처리했는지
> 

<img width="543" height="384" alt="image" src="https://github.com/user-attachments/assets/760df0d6-de61-4412-96ce-94dd7ea67449" />

네트워크 데이터 흐름을 파이프로 비유하는 관습 ⇒ 원통형 표현

- 특정 시간 동안 실제로 네트워크를 통과할 수 있는 평균 데이터 양
- 많은 트래픽을 처리했다 = 많은 처리량을 가진다
- 단위: bps (bits per second)
- 어떤 것에 영향을 받을까?
    - 트래픽
    - 네트워크 장치 간 대역폭
    - 네트워크 중간에 발생하는 에러
    - 장치의 하드웨어 스펙
    
    등…
    

## 지연 시간 (Latency)

> 네트워크 통신이 얼마나 지연되는지
> 
- 네트워크를 통해 데이터를 전송하는 데 걸리는 시간
- 어떤 메시지가 두 장치 사이를 왕복하는 데 걸리는 시간
- 딜레이나 렉이 길게 발생하는 네트워크 = 지연 시간이 길다
응답 시간이 빠른 네트워크 = 지연 시간이 짧다
- 네트워크 지연 시간이 길면 애플리케이션 성능이 저하되고, 일정 수준 이상으로 길어지면 장애가 발생
- 어떤 것에 영향을 받을까?
    - 매체 타입 (유선, 무선)
    - 패킷 크기
    - 라우터의 패킷 처리 시간
    
    등…
    

## 처리량과 지연 시간

|  | 처리량 | 지연 시간 |
| --- | --- | --- |
| 지향점 | 높은 처리량 | 짧은 지연 시간 |
| 측정하는 것 | 특정 기간 동안 네트워크를 통과하는 데이터의 양 | 데이터를 전송할 때 지연되는 시간 |
| 측정 방법 | 파일을 보내거나 네트워크 테스트 도구를 사용하여 수동 계산 | 핑 시간을 사용하여 계산 |
| 측정 단위 | bps | 밀리초 (ms) |
| 영향 요인 | 대역폭, 네트워크 처리 능력, 패킷 손실(네트워크 도중 에러), 네트워크 토폴로지 등 | 지리적 거리, 네트워크 정체, 전송 프로토콜, 네트워크 인프라 |


### 👉 패킷이란?

데이터를 전송할 때 한 번에 보내는 것이 아닌, 작은 조각으로 나누어 효율적으로 전송하는데,
이 때, 나누는 작은 조각을 패킷이라고 한다.

각 패킷은 데이터의 일부를 담고 있으며, 일반적으로 도착 지점에서 패킷을 다시 합쳐 원래 데이터로 만든 후 클라이언트에게 전달한다.

크기가 크면 전송 효율이 높을 수 있지만, 오류 발생 시 재전송 비용이 증가한다.

### 트래픽이란?

네트워크를 흐르는 데이터 총량, 많아질수록 혼잡/병목이 발생하기 쉽다

### 대역폭이란?

주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

# 네트워크 토폴로지와 병목 현상


> `네트워크 토폴로지의 종류` `병목 현상`
> 

## 토폴로지 (Topology)

> 네트워크의 구성 형태/형상
> 
> 
> [수학] 위상 (위상 수학)
> 
- 통신 노드의 외형적인 연결 모양
- 통신망을 구성하기 위한 물리적 결선 방식
- 다수의 디바이스가 통신 링크로 상호 연결되어 있는 방식/형태/모양을 의미

## 네트워크 토폴로지의 종류

### 망형(매시)

> 그물망처럼 연결되어 있는 구조
> 
- 네트워크 상의 모든 노드를 상호 연결
- 회선에 문제가 생겼을 때 다른 경로를 이용해 데이터를 전송할 수 있음

<img width="442" height="798" alt="image" src="https://github.com/user-attachments/assets/3894f2e1-0ddb-4380-8e2e-203a9d0aa2a8" />

- 장점
    
    > 안정성, 융통성
    > 
    - 장애에 가장 강하고, 가장 안전
    - 트래픽 분산 처리 가능
    - 목적지까지 여러 개의 경로 존재
        - 한 곳에 장애가 생겨도 다른 경로 이용 가능
    - 목적지까지 경로들 중 가장 빠른 경로 이용
        - 가용성과 효율성이 뛰어남
- 단점
    
    > 비용 문제
    > 
    - 설치 비용이 가장 비쌈
    - 네트워크 관리가 힘들다
    
    ⇒ 구축 비용과 운용 비용이 고가
    

### 트리형

> 트리 형태로 배치한 네트워크 구성
> 
- 하나의 노드에 여러 개의 노드가 트리형으로 연결되어 있는 형태
- 데이터는 양방향으로 모든 노드에 전송

<img width="939" height="564" alt="image" src="https://github.com/user-attachments/assets/f9a7597e-357e-440c-808a-c8758dfd4e27" />

- 장점
    
    > 확장 용이 및 회선 절약
    > 
    - 통신 회선수 절약
    - 통신 선로 짧음
    - 네트워크 확장 용이
    - 관리 용이
    (상위 계층에서 하위 계층 모두 제어 가능)
- 단점
    
    > 상위 노드 문제 발생 시 여파가 큼
    > 
    - 상위 노드 문제 시 하위 노드 모두에 영향
    - 중앙 지점에서 병목 현상 발생 가능
    - 중앙 지점 고장 발생 시 네트워크 마비

### 링형

> 노드들이 하나의 원을 이루도록 한 네트워크 구성
> 
- 인접한 노드들과 연결되어 고리처럼 하나의 연속된 길을 통해 통신
- 토큰 패싱이라는 방법을 통해 데이터 전송
- 노드에서 노드로 데이터가 이동

<img width="456" height="358" alt="image" src="https://github.com/user-attachments/assets/8e9ed8cb-a9bc-44e6-87af-889d680cb146" />

- 장점
    
    > 관리하기에 좋음
    > 
    - 모든 장비에 똑같은 접속 기회 제공
    - 노드 수가 증가되어도 네트워크 상 손실이 거의 없음 (성능 저하가 적음)
    - 충돌 발생 가능성 적음 (병목 현상이 드물다)
    - 노드의 고장 발견이 쉬움
- 단점
    
    > 연결되어 있는 노드 중 하나만 문제가 생겨도 전체에 문제가 생김
    > 
    - 네트워크 구성 변경이 어려움
    - 하나의 노드에 이상이 발생하면 전체 네트워크에 영향을 크게 미침
        - 전체 네트워크 중단될수도

### 성형(스타)

> 중앙 집중식 네트워크 구성
> 
- 중앙에 있는 노드에 모두 연결된 네트워크 구성
- 송신 컴퓨터가 전송한 신호는 허브를 통해 네트워크의 모든 컴퓨터로 보내짐

<img width="471" height="357" alt="image" src="https://github.com/user-attachments/assets/4df14559-86a9-49d8-a1c3-397d95e90f74" />

- 장점
    
    > 관리하기 좋음
    > 
    - 중앙에 허브를 두고 컴퓨터가 별 모양으로 연결되어 있어 설치와 재구성이 쉬움
    - 장애 발견이 쉬움
    - 네트워크 관리가 쉬움
    - 장애 노드가 중앙 노드가 아닐 경우 다른 노드에 영향을 덜 끼침
- 단점
    
    > 중앙에 문제가 생기면 큰일남
    > 
    - 중앙 노드에 장애가 발생하면 전체 네트워크를 사용할 수 없음
    - 설치 비용이 비쌈
    

### 버스형(선형)

> 중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성
> 
- 근거리 통신망(LAN)에서 사용됨
- 하나의 통신회선에 여러 컴퓨터를 연결해서 전송하는 방법

<img width="671" height="323" alt="image" src="https://github.com/user-attachments/assets/aa9948de-7a2d-4114-8e05-b18b83da0500" />

- 장점
    - 구조가 간단함
    - 소규모의 네트워크에 유용
    - 설치 비용이 적음
    - 노드의 추가/제거가 매우 용이
    - 하나의 장치가 고장나더라도 전체 통신망에 영향을 주지 않음 ⇒ 신뢰성 높음
- 단점
    - 장애 발생 시 발생지의 위치 추적 어려움
    - 버스의 연결 부위나 종단 장치에 문제 발생 시 전체 네트워크 중단
    - 연결된 컴퓨터 수에 따라 네트워크 성능 좌우
    - 스푸핑 가능

### 스푸핑(Spoofing)이란?

> 올바르게 수신부로 가야 할 패킷이 악의적인 노드에 전달되도록 조작
> 특히, MAC 스푸핑에 취약

LAN 상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것

## 토폴로지 간단 정리
<img width="1001" height="1004" alt="image" src="https://github.com/user-attachments/assets/3e0e633b-47b1-4841-b386-1607aabd964b" />


## 병목 현상 (Bottleneck)

> 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상
> 
- 어떤 요소가 문제되면 발생하게 될까?
    - 네트워크 대역폭
    - 네트워크 토폴로지
    - 서버 CPU, 메모리 사용량
    - 비효율적인 네트워크 구성
- 주 원인
    - 과도한 트래픽으로 인한 네트워크 체증
    - 네트워크에 사용되는 하드웨어 성능 부족으로 인해 트래픽 감당 불가
    - 네트워크에 있는 소프트웨어의 한계
    - 네트워크 토폴로지 설계에서 오는 한계
        - 버스형은 동시에 많은 데이터가 중앙 회선을 통해 통신을 하려 하면 병목이 생길 수 있다
    - 오래된 보안 방침으로 인한 병목 현상 발생
    - 네트워크에 연결되어 있는 디바이스들 간의 너무 먼 거리

# 네트워크 분류

---

> 규모 기반으로 분류가 가능, 크게 3가지로 나뉨
> 
- WAN (Wide Area Network)
    - 광역 네트워크
    - 국가, 대륙 등 세계 규모의 네트워크
    - 전송 속도 느림, MAN 보다 더 혼잡
- MAN (Metropolitan Area Network)
    - 대도시 지역 네트워크
    - 도시 같은 넓은 지역에서 운영
    - 전송 속도 평균, LAN보다는 더 많이 혼잡
- LAN (Local Area Network)
    - 근거리 통신망
    - 건물, 캠퍼스 등 개인적으로 소유 가능한 좁은 규모
    - 전송 속도가 빠르고 혼잡하지 않음

# 네트워크 성능 분석 명령어

---

- ping: 네트워크 상태를 확인하려는 대상이 있을 때
    - 예시
        <img width="631" height="159" alt="image" src="https://github.com/user-attachments/assets/6aa6a801-195b-4e79-816a-d89f15f22967" />
        
        이런 유명한 곳은 핑을 막아놓는 경우가 많음
        
        <img width="470" height="391" alt="image" src="https://github.com/user-attachments/assets/3bf0e081-4976-4b3e-a8ea-40c1a736af90" />
        
        개인 공유기에 ping 전송해 봄
        
- netstat: 접속되어 있는 서비스들의 네트워크 상태를 표시하는 데 사용
    - 주로 서비스 포트가 열려 있는지 확인할 때 사용
    - 나는 주로 `netstat -ano | grep 8080(확인하고싶은 포트번호)` 으로 많이 찾았었다
        
        <img width="630" height="524" alt="image" src="https://github.com/user-attachments/assets/d390d619-c9e2-49b9-9bdb-32201bfeabbb" />

- nslookup: DNS에 관련된 내용을 확인하기 위함
    - 특정 도메인에 매핑된 IP 확인 등
        
        <img width="539" height="284" alt="image" src="https://github.com/user-attachments/assets/0d45dd6c-e10b-4ea8-8bc0-7f8debefd57b" />
        
        찾아보니 bns1.hananet.net 은 SK Broadband의 DNS서버라고 한다
        
- tracert/traceroute: 목적지 노드까지의 네트워크 경로 확인
    
    <img width="722" height="191" alt="image" src="https://github.com/user-attachments/assets/0c4f3853-f628-4a50-a839-0c50f8673725" />
    
    저 이후로 요청 시간이 만료된 것을 보면, 아마 중간 응답을 막아둔 것으로 보인다.
    ICMP 응답 비활성화/방화벽 차단 등의 가능성 존재
    

# 네트워크 프로토콜 표준화


> `IEEE` `IETF`
> 
- 프로토콜 ⇒ 통신 규약
- 이러한 프로토콜은 IEEE 또는 IETF라는 표준화 단체가 이를 정하여 발표한다.

# 참고자료


https://product.kyobobook.co.kr/detail/S000001834833

https://like-while.tistory.com/36

https://aws.amazon.com/ko/compare/the-difference-between-throughput-and-latency/

https://aws.amazon.com/what-is/latency/

http://www.ktword.co.kr/test/view/view.php?no=356

https://velog.io/@mathe1303/Network-Fundamentals-Of-Network

https://sungks.tistory.com/268

https://blog.naver.com/taeheon714/222270365921
