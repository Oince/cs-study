# 계층별 네트워크 장비

---

<img width="1540" height="1144" alt="image" src="https://github.com/user-attachments/assets/6525c6aa-82f8-46a7-a7d2-f60b9caf628b" />

간단하게 TCP/IP 5계층을 이용하여 정리를 하겠다

이쪽에 보면, 하드웨어가 있다.

기존 도표에는 응용 계층의 하드웨어는 호스트(PC 등) 으로 표시를 해 놨지만, L7 스위치에 대해서도 말해야 하기에 수정하였다.

각 계층별 처리하는 기기를 간단히 정리하자면 아래와 같다.

| 계층 | 장치 |
| --- | --- |
| 응용 계층 | L7 스위치 |
| 전송 계층 | L4 스위치 |
| 네트워크 계층 | 라우터, L3 스위치 |
| 데이터 링크 계층 | L2 스위치, 브리지, NIC, AP |
| 물리 계층 | 리피터, 허브, NIC, AP |

## L1; 물리 계층

> 리피터, 허브(L1 스위치), NIC, AP
> 

### L1 스위치 - 허브/더미 허브

`💡: 다들 사내 공지 어떤 걸로 하시나요? 카카오톡? 슬랙? (...)` 

`😊: 부장님이 일어나서 육성 공지 하십니다.`

- 랜선으로 허브와 연결되어 있는 모든 디바이스(모든 포트)에 데이터를 전부 전달 (브로드캐스트)
- 하나의 대역폭을 가지고 나눠 사용하는 방식이기에,
네트워크에 연결된 노드들이 많아질수록 송수신 속도가 급격하게 하락
- 여러 대의 컴퓨터를 연결하여 네트워크로 보내거나, 하나의 네트워크로 수신된 정보를 여러 대의 컴퓨터로 송신하기 위한 장비
- 하나의 허브에 연결된 모든 장비는 같은 Collision(충돌) 도메인에 속함

### 리피터

- 증폭기
- 디지털 신호를 증폭시켜주는 역할

### NIC (Network Interface Card, LAN 카드)

- 아래(2계층 부분)에 설명되어 있음

⇒ 1계층에서의 NIC: 전기 신호 ↔ 디지털 신호 변환, 전송 매체로 신호 송수신

### AP (Access Point)

- 아래(2계층 부분)에 설명되어 있음

⇒ 1계층에서의 AP: 무선 신호(전파) 송/수신 측면

## L2; 데이터 링크 계층

> L2 스위치, 브리지
> 

### L2 스위치 - 스위칭 허브/스위치

- MAC 기반으로 이더넷 영역에서 동작 (MAC 주소로 목적지를 찾을 수 있음)
    - 전이중 방식 사용
    - 특정 포트에 채널(bandwidth) 할당
    - 이 때, 연결되는 디바이스들의 IP는 알 수 없다 (라우팅 기능이 제외된 장비)
- 가장 흔히 볼 수 있는 스위칭 방식 (가장 기본적인 스위치)
    - 구조가 간단하고 신뢰성이 높으며, 다른 방식에 비해 저렴함
- Broadcast 패킷에 의한 성능 저하 발생 가능
    - VLAN(가상 랜; 포트를 기반으로 네트워크를 가상으로 구분한 논리적 그룹)으로 관련 성능 저하 보완

### 브리지

- 하나의 네트워크망 안에서 서로 다른 LAN을 연결 (두 개의 근거리 통신망 연결)
- MAC 주소 기반 필터링을 통해 더 나은 대역폭을 제공하고 트래픽을 통제
- MAC 주소 기반 리피터 기능 제공

### NIC (Network Interface Card, LAN 카드)

- 컴퓨터를 네트워크에 연결하여 통신하기 위해 사용하는 장치
- OSI 1계층, 2계층 둘에 포함된다 (복합 포함)
- 맥 주소를 사용하여 낮은 수준의 주소 할당 시스템을 제공하고 네트워크 매개체로 물리적인 접근을 가능케 한다

⇒ 2계층에서의 NIC: **MAC주소**를 가지고 있어, 프레임 단위의 통신에서 송수신자 식별

### AP (Access Point)

- 무선랜을 구성하는 장치 중 하나
- 유선랜과 무선랜을 연결시켜주는 장치
    - 무선 단말의 **MAC 주소 관리**
    - 같은 네트워크 내에서 브리징 수행
    - 프레임을 **무선 ↔ 유선** 간 변환 및 전달
- 통상, 인터넷으로의 접속을 제공하는 장치

⇒ 2계층에서의 AP: 무선 단말의 MAC 주소 관리 및 프레임 변환 수행 (무선-유선 브리지 기능)

## L3; 네트워크 계층

> 라우터, L3 스위치
> 

### 라우터

라우터에 들어오는 패킷의 목적지 IP 주소를 확인한 후, 자신이 가진 경로 정보(라우팅 테이블)을 활용하여 최적의 경로로 포워딩(라우팅) 하는 것.

- 데이터 패킷을 의도한 IP 주소로 전달하여 네트워크 간 트래픽 관리
- 여러 장치가 동일한 인터넷 연결을 사용할 수 있도록 함

### L3 스위치 - L2 스위치 + 라우팅

- IP를 기반으로 네트워크 패킷의 라우팅이 가능
- Broadcast 트래픽으로 전체 성능 저하 방지
- 트래픽 체크, Inter-VLAN Routing 등의 부가 기능 제공
- QoS(Quality of Service), 멀티캐스트 통신 등의 기능 지원
- 미러링 및 라우팅 영역으로 많이 사용

### 라우터와 L3 스위치의 차이

|  | 라우터 | L3 스위치 |
| --- | --- | --- |
| 형태 | 소프트웨어적 | 하드웨어적 |
| 속도 | 상대적으로 느림 | 상대적으로 빠름 |
| 지원 | 모든 프로토콜 | 일부 라우팅 프로토콜 지원(IP 프로토콜 및 RIP 1, 2, OSPF 등) |
| 가격 | 상대적으로 비쌈 | 상대적으로 저렴 |

## L4; 전송 계층

> L4 스위치 (로드밸런서)
> 

### L4 스위치 -  L3 + 로드밸런싱

- TCP/IP 및 세션을 기반으로 네트워크 패킷의 라우팅 및 로드밸런싱이 가능
- TCP, UDP 등의 헤더를 보고 FTP, HTTP, SMTP 등 프로토콜 확인하여 스위칭의 우선순위 판단 가능
- WEB/WAS를 이중화하거나 다중화 할 때 주로 사용
- 서비스를 분산시켜주는 장비 (로드 밸런싱!)

## L5; 응용 계층

> L7 스위치 (애플리케이션 스위치)
> 

### L7 스위치 - L4 + 애플리케이션 기능

- TCP/IP와 URL을 포함
- 전 계층의 기능을 모두 사용할 수 있는 네트워크 스위치
- 불필요한 트래픽을 차단하고, 네트워크 침입에 대한 부분에 한하여 설정 또한 가능 (보안 기능)
- 패킷을 분석하여 어떤 데이터인지까지 알아낼 수 있음
    - 웹 방화벽 및 보안 스위치에 사용

#### 👀 스위치 너는 대체 뭐길래 어디서나 언급되니? (쟨 대체 뭔지 궁금했었음)

모든 스위치는 말 그대로, Switching, 패킷을 어느 쪽으로 보내야 하는지 판단하는 역할을 해야 한다
그 어느 쪽으로 보낼 때 어떠한 정보를 보고 판단을 하는 것인지에 따라 Layer가 구분되는 것!

- L2 스위치는 MAC 정보를 보고 스위칭을 하는 것 (데이터 링크 계층→ MAC)
- L3 스위치는 IP 정보 (라우팅 테이블)을 보고 스위칭을 하는 것 (네트워크 계층 → IP)
- L4 스위치는 IP + Port(Session or Connection)을 보고 스위칭을 하는 것
- L7 스위치는 실제 Application의 데이터(Content)를 보고 스위칭을 하는 것

상위 레이어 스위치는 하위 레이어 스위치의 기능을 기본적으로 다 할 수 있다.
하지만, 실제 사이트 구성 시에는 자신의 주력 기능만 수행하는 것이 일반적이다.

# 참고자료

---

https://gaebom.tistory.com/62

https://nhj12311.tistory.com/75

http://www.ktword.co.kr/test/view/view.php?no=2237

https://judo0179.tistory.com/entry/2017%EB%85%84-%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%ED%95%99%EC%8A%B5%EC%9E%90%EB%A3%8C-2

https://yoon001.tistory.com/91

https://co-no.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%8A%A4%EC%9C%84%EC%B9%98%EC%9D%98-%EC%A2%85%EB%A5%98-Layer%EB%B3%84-%ED%8A%B9%EC%A7%95
